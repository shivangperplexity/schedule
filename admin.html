<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin - दौरा कार्यक्रम</title>
<style>
body { margin:0; font-family: "Noto Sans Devanagari", sans-serif; background:#f7f7f7; }
header { background:#e65100; color:white; padding:15px; text-align:center; font-size:20px; font-weight:bold; }
.container { max-width:600px; margin:20px auto; padding:15px; background:white; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);}
h2 { text-align:center; color:#e65100; }
input, textarea, button { width:100%; padding:10px; margin:5px 0; border-radius:6px; border:1px solid #ccc; outline:none; }
input:focus, textarea:focus { border-color:#e65100; box-shadow:0 0 5px rgba(230,81,0,0.5);}
button { background:#e65100; color:white; border:none; font-weight:bold; cursor:pointer; }
button:hover { background:#bf360c; }
</style>
</head>
<body>
<header>Admin Panel - दौरा कार्यक्रम</header>
<div class="container">
  <h2>नवीन कार्यक्रम जोडा</h2>
  <input type="text" id="title" placeholder="शीर्षक">
  <input type="date" id="date">
  <input type="text" id="place" placeholder="ठिकाण">
  <input type="text" id="map_url" placeholder="Google नकाशा लिंक (ऐच्छिक)">
  <textarea id="description" rows="5" placeholder="विवरण"></textarea>
  <button id="addBtn">कार्यक्रम जोडा</button>
  <p id="status"></p>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyD7dNWujSZFUSat3zKH0lXf8hNZKCv6-XU",
  authDomain: "schedule-balasaheb.firebaseapp.com",
  projectId: "schedule-balasaheb",
  storageBucket: "schedule-balasaheb.appspot.com",
  messagingSenderId: "614219892733",
  appId: "1:614219892733:web:15f60c89267014cab37b94",
  measurementId: "G-0R21W5VRQ7"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const title = document.getElementById('title');
const date = document.getElementById('date');
const place = document.getElementById('place');
const map_url = document.getElementById('map_url');
const description = document.getElementById('description');
const addBtn = document.getElementById('addBtn');
const status = document.getElementById('status');

addBtn.addEventListener('click', async ()=>{
  const data = {
    title: title.value.trim(),
    date: date.value,
    place: place.value.trim(),
    map_url: map_url.value.trim(),
    description: description.value.trim()
  };
  if(!data.title || !data.date || !data.place || !data.description){
    status.textContent = "कृपया सर्व आवश्यक माहिती भरा.";
    return;
  }
  status.textContent = "लोड होत आहे...";
  try {
    await addDoc(collection(db, "events"), data);
    status.textContent = "कार्यक्रम यशस्वीरित्या जोडला.";
    title.value=""; date.value=""; place.value=""; map_url.value=""; description.value="";
  } catch(err){
    console.error(err);
    status.textContent = "चुक झाली, कृपया पुन्हा प्रयत्न करा.";
  }
});
</script>
</body>
</html>
